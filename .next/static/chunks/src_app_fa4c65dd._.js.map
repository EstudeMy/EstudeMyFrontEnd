{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jo%C3%A3o/Documents/GitHub/Front-End/src/app/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useTheme } from \"@/app/contexts/ThemeContext\";\r\n\r\nexport default function ThemeToggle() {\r\n  const { theme, toggleTheme } = useTheme();\r\n\r\n  return (\r\n    <button\r\n      onClick={toggleTheme}\r\n      className=\"fixed top-4 right-4 z-50 p-3 rounded-full bg-white/20 backdrop-blur-sm border-2 border-white/30 hover:bg-white/30 transition-all duration-300 shadow-lg\"\r\n      aria-label=\"Alternar tema\"\r\n      title={theme === \"dark\" ? \"Modo claro\" : \"Modo escuro\"}\r\n    >\r\n      {theme === \"dark\" ? (\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          className=\"h-6 w-6 text-yellow-300\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth={2}\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"\r\n          />\r\n        </svg>\r\n      ) : (\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          className=\"h-6 w-6 text-gray-800\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth={2}\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\r\n          />\r\n        </svg>\r\n      )}\r\n    </button>\r\n  );\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,sJAAQ;IAEvC,qBACE,6LAAC;QACC,SAAS;QACT,WAAU;QACV,cAAW;QACX,OAAO,UAAU,SAAS,eAAe;kBAExC,UAAU,uBACT,6LAAC;YACC,OAAM;YACN,WAAU;YACV,MAAK;YACL,SAAQ;YACR,QAAO;YACP,aAAa;sBAEb,cAAA,6LAAC;gBACC,eAAc;gBACd,gBAAe;gBACf,GAAE;;;;;;;;;;iCAIN,6LAAC;YACC,OAAM;YACN,WAAU;YACV,MAAK;YACL,SAAQ;YACR,QAAO;YACP,aAAa;sBAEb,cAAA,6LAAC;gBACC,eAAc;gBACd,gBAAe;gBACf,GAAE;;;;;;;;;;;;;;;;AAMd;GA3CwB;;QACS,sJAAQ;;;KADjB","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jo%C3%A3o/Documents/GitHub/Front-End/src/app/components/Login.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useTheme } from \"@/app/contexts/ThemeContext\";\r\nimport ThemeToggle from \"@/app/components/ThemeToggle\";\r\n\r\nconst Login = () => {\r\n  const router = useRouter();\r\n  const { theme } = useTheme();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [senha, setSenha] = useState(\"\");\r\n  const [erro, setErro] = useState(\"\");\r\n  const [sucesso, setSucesso] = useState(\"\");\r\n  const [mostrarSenha, setMostrarSenha] = useState(false);\r\n  const [mostrarEsqueciSenha, setMostrarEsqueciSenha] = useState(false);\r\n  const [emailRecuperacao, setEmailRecuperacao] = useState(\"\");\r\n  const [salvando, setSalvando] = useState(false);\r\n\r\n  // Determinar a imagem de fundo baseada no tema\r\n  const backgroundImage = theme === \"dark\" \r\n    ? \"/img/backgrounds/background_login_darkmode.jpg\"\r\n    : \"/img/backgrounds/background_login_lightmode.png\";\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setErro(\"\");\r\n    setSucesso(\"\");\r\n\r\n    try {\r\n      const API_URL =\r\n        process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000\";\r\n      const res = await fetch(`${API_URL}/api/auth/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, senha }), // ⚠️ campos corretos\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setErro(data.message || \"Erro desconhecido\");\r\n        return;\r\n      }\r\n\r\n      // Salva token no localStorage\r\n      localStorage.setItem(\"token\", data.token);\r\n      console.log(\"✅ Token salvo:\", data.token);\r\n\r\n      // Redireciona dependendo se o perfil já foi criado\r\n      if (data.perfilCriado) {\r\n        router.push(\"/pages/home\");\r\n      } else {\r\n        router.push(\"/pages/criarPerfil\");\r\n      }\r\n\r\n      setSucesso(\"Login realizado com sucesso!\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      setErro(\"Erro ao conectar com o servidor.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4 h-screen flex-col relative overflow-hidden bg-cover bg-center\"\r\n      style={{\r\n        backgroundImage: `url('${backgroundImage}')`,\r\n      }}\r\n    >\r\n      <ThemeToggle /> {/* Botão para alternar tema */}\r\n      <div className=\"w-full max-w-md p-6 bg-[var(--bg-card)] rounded-lg shadow-md border border-[var(--border-color)] transition-colors duration-300\" style={{ backgroundColor: 'var(--bg-card)', borderColor: 'var(--border-color)' }}>\r\n        <div className=\"mb-6 text-center\">\r\n          <Image\r\n            width={400}\r\n            height={128}\r\n            src=\"/svg/EstudeMyLogo.svg\"\r\n            alt=\"Logo\"\r\n          />\r\n        </div>\r\n\r\n        <form className=\"flex flex-col gap-3\" onSubmit={handleSubmit}>\r\n          <div className=\"flex flex-col\">\r\n            <label className=\"text-sm text-left text-[var(--text-primary)]\">Email:</label>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Digite seu endereço de e-mail\"\r\n              className=\"rounded-lg py-2 px-3 text-sm border w-full bg-[var(--bg-input)] text-[var(--text-primary)] border-[var(--border-color)] transition-colors duration-300\"\r\n              style={{ backgroundColor: 'var(--bg-input)', color: 'var(--text-primary)', borderColor: 'var(--border-color)' }}\r\n              required\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex flex-col\">\r\n            <label className=\"text-sm mb-1 text-left text-[var(--text-primary)]\">Senha:</label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type={mostrarSenha ? \"text\" : \"password\"}\r\n                placeholder=\"Digite sua senha\"\r\n                className=\"w-full rounded-lg py-2 px-4 pr-10 text-sm border bg-[var(--bg-input)] text-[var(--text-primary)] border-[var(--border-color)] transition-colors duration-300\"\r\n                style={{ backgroundColor: 'var(--bg-input)', color: 'var(--text-primary)', borderColor: 'var(--border-color)' }}\r\n                required\r\n                value={senha}\r\n                onChange={(e) => setSenha(e.target.value)}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setMostrarSenha(!mostrarSenha)}\r\n                className=\"absolute inset-y-0 right-3 flex items-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors duration-300\"\r\n                title={mostrarSenha ? \"Ocultar senha\" : \"Mostrar senha\"}\r\n              >\r\n                {mostrarSenha ? (\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"h-5 w-5\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth={2}\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a9.964 9.964 0 012.41-4.042M6.112 6.112A9.967 9.967 0 0112 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7zM3 3l18 18\"\r\n                    />\r\n                  </svg>\r\n                ) : (\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"h-5 w-5\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth={2}\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                    />\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n                    />\r\n                  </svg>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {erro && <p className=\"text-red-600 text-sm\">{erro}</p>}\r\n          <Button type=\"submit\" variant=\"primary\">\r\n            Login\r\n          </Button>\r\n\r\n          <p className=\"text-center text-sm mt-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setMostrarEsqueciSenha(true)}\r\n              className=\"text-blue-600 hover:underline\"\r\n            >\r\n              Esqueci minha senha\r\n            </button>\r\n          </p>\r\n\r\n          {sucesso && (\r\n            <p className=\"text-green-600 text-sm text-center\">{sucesso}</p>\r\n          )}\r\n        </form>\r\n\r\n        {mostrarEsqueciSenha && (\r\n          <div className=\"mt-4 p-4 border border-[var(--border-color)] rounded-lg bg-[var(--bg-input)] transition-colors duration-300\" style={{ backgroundColor: 'var(--bg-input)', borderColor: 'var(--border-color)' }}>\r\n            <h3 className=\"font-semibold mb-3 text-[var(--text-primary)]\">Recuperar Senha</h3>\r\n            <p className=\"text-sm text-[var(--text-secondary)] mb-3\">\r\n              Digite seu email e você receberá um link para redefinir sua senha\r\n            </p>\r\n            <div className=\"space-y-3\">\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Email\"\r\n                value={emailRecuperacao}\r\n                onChange={(e) => setEmailRecuperacao(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-[var(--border-color)] rounded bg-[var(--bg-card)] text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300\"\r\n                style={{ backgroundColor: 'var(--bg-card)', color: 'var(--text-primary)', borderColor: 'var(--border-color)' }}\r\n              />\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={async () => {\r\n                    if (!emailRecuperacao) {\r\n                      setErro(\"Por favor, digite seu email\");\r\n                      return;\r\n                    }\r\n\r\n                    setSalvando(true);\r\n                    setErro(\"\");\r\n                    setSucesso(\"\");\r\n\r\n                    try {\r\n                      const API_URL =\r\n                        process.env.NEXT_PUBLIC_API_URL ||\r\n                        \"http://localhost:5000\";\r\n                      const res = await fetch(\r\n                        `${API_URL}/api/users/solicitar-recuperacao`,\r\n                        {\r\n                          method: \"POST\",\r\n                          headers: { \"Content-Type\": \"application/json\" },\r\n                          body: JSON.stringify({\r\n                            email: emailRecuperacao,\r\n                          }),\r\n                        }\r\n                      );\r\n\r\n                      const data = await res.json();\r\n\r\n                      if (!res.ok) {\r\n                        setErro(\r\n                          data.message || \"Erro ao solicitar recuperação\"\r\n                        );\r\n                        return;\r\n                      }\r\n\r\n                      setSucesso(\r\n                        \"Se o email existir em nosso sistema, você receberá um link para redefinir sua senha. Verifique sua caixa de entrada!\"\r\n                      );\r\n                      setMostrarEsqueciSenha(false);\r\n                      setEmailRecuperacao(\"\");\r\n                    } catch (error) {\r\n                      console.error(error);\r\n                      setErro(\"Erro ao conectar com o servidor.\");\r\n                    } finally {\r\n                      setSalvando(false);\r\n                    }\r\n                  }}\r\n                  disabled={salvando}\r\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex-1 disabled:bg-gray-400\"\r\n                >\r\n                  {salvando ? \"Enviando...\" : \"Enviar Link\"}\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setMostrarEsqueciSenha(false);\r\n                    setEmailRecuperacao(\"\");\r\n                    setErro(\"\");\r\n                    setSucesso(\"\");\r\n                  }}\r\n                  className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mt-8 pt-6 border-t border-[var(--border-color)] text-center\"></div>\r\n        <p className=\"text-center text-sm text-[var(--text-primary)]\">\r\n          Não possui conta?{\" \"}\r\n          <a href=\"/pages/cadastro\" className=\"text-blue-600 hover:underline\">\r\n            Cadastrar-se\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 559, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jo%C3%A3o/Documents/GitHub/Front-End/src/app/pages/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Login from \"@/app/components/Login\"; // Componente de login do usuário\r\nimport Script from \"next/script\";\r\nimport { useEffect, useLayoutEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n\r\n    // useLayoutEffect executa antes da pintura, garantindo que o título seja definido cedo\r\n    useLayoutEffect(() => {\r\n        document.title = \"Login - Estude.My\";\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const verificarAutenticacao = async () => {\r\n            const token = localStorage.getItem(\"token\");\r\n            \r\n            if (!token) {\r\n                return; // Não está autenticado, pode ver a página de login\r\n            }\r\n\r\n            // Verificar se o token é válido\r\n            try {\r\n                const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000\";\r\n                const res = await fetch(`${API_URL}/api/users/me`, {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n\r\n                if (res.ok) {\r\n                    // Token válido, usuário já está autenticado, redirecionar para home\r\n                    router.push(\"/pages/home\");\r\n                } else {\r\n                    // Token inválido, remover e permitir acesso à página de login\r\n                    localStorage.removeItem(\"token\");\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Erro ao verificar autenticação:\", error);\r\n                // Em caso de erro, remover token e permitir acesso\r\n                localStorage.removeItem(\"token\");\r\n            }\r\n        };\r\n\r\n        verificarAutenticacao();\r\n    }, [router]);\r\n\r\n    return (\r\n        <>\r\n          <Script id=\"microsoft-clarity\" strategy=\"afterInteractive\">\r\n                {`\r\n                    (function(c,l,a,r,i,t,y){\r\n                        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\r\n                        t=l.createElement(r);t.async=1;t.src=\"https://www.clarity.ms/tag/\"+i;\r\n                        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\r\n                    })(window, document, \"clarity\", \"script\", \"tvolq13xii\");\r\n                `}\r\n            </Script>\r\n            {/* ===========================\r\n          Container principal da página\r\n          =========================== */}\r\n            <div className=\"flex min-h-screen flex-col transition-all duration-300 justify-space-between bg-gray-50\">\r\n\r\n                {/* Componente de login */}\r\n                <Login/>\r\n\r\n            </div>\r\n        </>\r\n\r\n        \r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAyBgC;;AAvBhC,yOAA4C,iCAAiC;AAC7E;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACpB,MAAM,SAAS,IAAA,kJAAS;IAExB,uFAAuF;IACvF,IAAA,gLAAe;qCAAC;YACZ,SAAS,KAAK,GAAG;QACrB;oCAAG,EAAE;IAEL,IAAA,0KAAS;+BAAC;YACN,MAAM;6DAAwB;oBAC1B,MAAM,QAAQ,aAAa,OAAO,CAAC;oBAEnC,IAAI,CAAC,OAAO;wBACR,QAAQ,mDAAmD;oBAC/D;oBAEA,gCAAgC;oBAChC,IAAI;wBACA,MAAM,UAAU,uEAAmC;wBACnD,MAAM,MAAM,MAAM,MAAM,AAAC,GAAU,OAAR,SAAQ,kBAAgB;4BAC/C,SAAS;gCAAE,eAAe,AAAC,UAAe,OAAN;4BAAQ;wBAChD;wBAEA,IAAI,IAAI,EAAE,EAAE;4BACR,oEAAoE;4BACpE,OAAO,IAAI,CAAC;wBAChB,OAAO;4BACH,8DAA8D;4BAC9D,aAAa,UAAU,CAAC;wBAC5B;oBACJ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,mCAAmC;wBACjD,mDAAmD;wBACnD,aAAa,UAAU,CAAC;oBAC5B;gBACJ;;YAEA;QACJ;8BAAG;QAAC;KAAO;IAEX,qBACI;;0BACE,6LAAC,4IAAM;gBAAC,IAAG;gBAAoB,UAAS;0BAChC;;;;;;0BAWN,6LAAC;gBAAI,WAAU;0BAGX,cAAA,6LAAC,gJAAK;;;;;;;;;;;;AAOtB;GAhEwB;;QACL,kJAAS;;;KADJ","debugId":null}}]
}